# -*- coding: utf-8 -*-
"""Aplicacion

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1rgaZ6YzXqwa6lx0PdLEybU6qxwVyabNc
"""
import streamlit as st
import pandas as pd
import altair as alt
from streamlit_option_menu import option_menu

# Crear pagina
st.set_page_config(
    page_title="Visualizaci√≥n de datos de Salud de Espa√±a",
    page_icon="‚öï",
    layout="wide"
)

# Subir datos
@st.cache_data
def load_data():
    df = pd.read_csv("datos/df_final.csv", encoding= "latin-1")
    return df


with st.sidebar:
    selected = option_menu(
        menu_title="Men√∫",
        options=["Inicio", "Ver resultados de la encuesta", "Predecir mi percepci√≥n de salud"],
        icons=["house-heart-fill", "clipboard-pulse", "stars"],
        menu_icon="body-text",
        default_index=0
    )

# Pagina de inicio
if selected == "Inicio":
    st.title("An√°lisis y Predicci√≥n de datos de Salud")
    st.subheader("Hola! ü§ì")
    st.write("Gracias por tu inter√©s por la salud en Espa√±a.")
    st.write("""Esta p√°gina te permite visualizar resultados de la 
             [Encuesta de Salud de Espa√±a 2023](https://www.sanidad.gob.es/estadEstudios/estadisticas/encuestaSaludEspana/home.htm).""")
    st.write("Usa el menu lateral para navegar entre: Visualizaci√≥n de datos y predicci√≥n de tu salud **percibida**.")
    st.subheader("Datos iniciales de la encuesta")

# Para ver los resultados

if selected == "Ver resultados de la encuesta":
    st.title("Ver resultados de la encuesta")
    st.write("Aqui encontrar√°s los resultados de la encuesta de salud de Espa√±a 2023")
    st.subheader("üó∫Ô∏è Haz clic en una comunidad aut√≥noma")

# Cargar datos
    
    df = load_data()
    st.dataframe(df.head()) #https://www.youtube.com/watch?v=7E3yxq-P-a8

# Secci√≥n Predecir percepci√≥n de salud

if selected == "Predecir mi percepci√≥n de salud":
    st.title("Predecir mi percepci√≥n de salud")
    st.subheader("Aqu√≠ podr√°s predecir tu salud basado en los datos de la poblaci√≥n en Espa√±a")
    
# Entradas de los usuarions
    
    edad = st.slider("Selecciona tu edad", 0, 100, 25)
    st.write("Tu edad es:", edad)
    
    actividad = st.selectbox(
        "¬øCu√°l es tu nivel de actividad f√≠sica?",
        ["Bajo", "Ocasional", "Regular", "Sedentario"]
    )
    
    if st.button("¬°Predecir ahora!"):
        st.success("Predicci√≥n generada")
